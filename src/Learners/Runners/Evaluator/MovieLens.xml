<?xml version="1.0" encoding="utf-8" ?>
<Configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">

  <!--All common configuration elements shared between different test runs should be places inside this section-->
  <Dictionary>
    <!--Common settings for different implementations of the Matchbox model-->
    <Element xsi:type="MatchboxRecommender" Id="Matchbox common">
      <TraitCount>2</TraitCount>
      <IterationCount>200</IterationCount>
      <BatchCount>1</BatchCount>
      <UseUserFeatures>false</UseUserFeatures>
      <UseItemFeatures>false</UseItemFeatures>
      <AffinityNoiseVariance>1.0</AffinityNoiseVariance>
      <ThresholdNoiseVariance>1E-200</ThresholdNoiseVariance>
      <UseSharedUserThresholds>false</UseSharedUserThresholds>
      <!--<TraitVariance> 1: 1.0</TraitVariance>-->
      <!--<TraitVariance> 2: 0.708</TraitVariance>-->
      <!--<TraitVariance> 3: 0.57737</TraitVariance>-->
      <!--<TraitVariance> 4: 0.5</TraitVariance>-->
      <!--<TraitVariance> 5: 0.4472</TraitVariance>-->
      <!--<TraitVariance> 8: 0.3535</TraitVariance>-->
      <!--<TraitVariance>10: 0.3162</TraitVariance>-->
      <!--<TraitVariance>12: 0.289</TraitVariance>-->
      <!--<TraitVariance>16: 0.25</TraitVariance>-->
      <!--<TraitVariance>32: 0.177</TraitVariance>-->
      <TraitVariance>0.708</TraitVariance>
      <BiasVariance>1.0</BiasVariance>
      <ThresholdPriorVariance>10.0</ThresholdPriorVariance>
      <RatingLossFunction>ZeroOne</RatingLossFunction>
    </Element>
    <!--Infer.NET-based implementation of the Matchbox model-->
    <Element xsi:type="MatchboxRecommender" Id="Infer.NET Matchbox" Parent="Matchbox common">
    </Element>


    <!--VW recommender-->
    <Element xsi:type="VWRecommender" Id="VW">
      <TraitCount>1</TraitCount>
      <BitPrecision>18</BitPrecision>
      <LearningRate>0.021</LearningRate>
      <LearningRateDecay>0.97</LearningRateDecay>
      <PassCount>10</PassCount>
      <L1Regularization>1</L1Regularization>
      <L2Regularization>0.001</L2Regularization>
      <UseUserFeatures>false</UseUserFeatures>
      <UseItemFeatures>false</UseItemFeatures>
    </Element>

    <!--Common settings for different Mahout algorithms-->
    <Element xsi:type="MahoutRecommender" Id="Mahout Common">
      <RatingSimilarity>Euclidean</RatingSimilarity>
      <MissingRatingPredictionAlgorithm>TakeMedian</MissingRatingPredictionAlgorithm>
      <TraitCount>1</TraitCount>
      <IterationCount>10</IterationCount>
      <UserNeighborhoodSize>500</UserNeighborhoodSize>
    </Element>

    <!--Mahout SlopeOne recommender-->
    <Element xsi:type="MahoutRecommender" Id="Mahout SlopeOne" Parent="Mahout Common">
      <RatingPredictionAlgorithm>SlopeOne</RatingPredictionAlgorithm>
    </Element>

    <!--Mahout SVD recommender-->
    <Element xsi:type="MahoutRecommender" Id="Mahout SVD" Parent="Mahout Common">
      <RatingPredictionAlgorithm>Svd</RatingPredictionAlgorithm>
    </Element>

    <!--Default dataset splitting settings-->
    <Element xsi:type="RecommenderDatasetSplitSettings" Id="Large recommender dataset">
      <FoldCount>1</FoldCount>
      <!---->
      <TrainingOnlyUserFraction>0.0</TrainingOnlyUserFraction>
      <TestUserRatingTrainingFraction>0.7</TestUserRatingTrainingFraction>
      <ColdItemFraction>0</ColdItemFraction>
      <ColdUserFraction>0</ColdUserFraction>
      <IgnoredUserFraction>0</IgnoredUserFraction>
      <IgnoredItemFraction>0</IgnoredItemFraction>
      <RemoveOccasionalColdItems>false</RemoveOccasionalColdItems>
    </Element>

    <!--Datasets-->
    <Element xsi:type="RecommenderDataset" Id="Movie Lens MBML book dataset">
      <!--<FileName>data\Recommendation\MovieLensMbmlBookBinaryRatingsIdsPersonalized.dat</FileName>-->
      <FileName>data\Recommendation\MovieLensMbmlBook.dat</FileName>
      <!--<FileName>data\Recommendation\MovieLensMbmlBookBinaryRatingsIds.dat</FileName>-->

    </Element>



    <!--Default rating prediction test-->
    <Element xsi:type="PredictRatings" Id="Default rating prediction test">
      <ComputeUncertainPredictionMetrics>true</ComputeUncertainPredictionMetrics>
    </Element>
    <!--Default item recommendation test-->
    <Element xsi:type="RecommendItems" Id="Default item recommendation test">
      <MaxRecommendedItemCount>5</MaxRecommendedItemCount>
      <MinRecommendationPoolSize>5</MinRecommendationPoolSize>
    </Element>
    <!--Default related user prediction test-->
    <Element xsi:type="PredictRelatedUsers" Id="Default related user prediction test">
      <MaxRelatedUserCount>5</MaxRelatedUserCount>
      <MinCommonRatingCount>5</MinCommonRatingCount>
      <MinRelatedUserPoolSize>1</MinRelatedUserPoolSize>
    </Element>
    <!--Default related item prediction test-->
    <Element xsi:type="PredictRelatedItems" Id="Default related item prediction test">
      <MaxRelatedItemCount>5</MaxRelatedItemCount>
      <MinCommonRatingCount>5</MinCommonRatingCount>
      <MinRelatedItemPoolSize>1</MinRelatedItemPoolSize>
    </Element>
  </Dictionary>

  <!--Use this section to describe which tests on which recommenders do you actually want to perform-->
  <Runs>
    <Run>
      <Name>Infer.NET Matchbox</Name>
      <Recommender xsi:type="MatchboxRecommender" Parent="Infer.NET Matchbox"/>
      <Tests>
        <Test xsi:type="PredictRatings" Parent="Default rating prediction test"/>
      </Tests>
      <Dataset Parent="Movie Lens MBML book dataset"/>
      <SplitSettings Parent="Large recommender dataset"/>
    </Run>
  </Runs>
</Configuration>